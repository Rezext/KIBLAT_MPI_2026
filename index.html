<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KIBLAT MPI 2026 - Sistem Manajemen Divisi</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Homepage Landing -->
    <div id="homepage" class="page active">
        <header class="hero">
            <div class="container">
                <h1>KIBLAT MPI 2026</h1>
                <p class="subtitle">Kompetisi Ilmiah dan Budaya Lintas Atletik Terampil</p>
                <div class="auth-buttons">
                    <button onclick="showLoginPage('member')" class="btn btn-primary">Login Anggota</button>
                    <button onclick="showLoginPage('admin')" class="btn btn-secondary">Login Admin</button>
                    <button onclick="showLoginPage('developer')" class="btn btn-ghost">Developer</button>
                </div>
            </div>
        </header>

        <section class="content-section">
            <div class="container">
                <div class="grid-2">
                    <div class="card">
                        <h2>üìñ Latar Belakang</h2>
                        <p id="latarBelakang">KIBLAT MPI 2026 merupakan program kerja tahunan...</p>
                    </div>
                    <div class="card">
                        <h2>üì∏ Dokumentasi</h2>
                        <div id="dokumentasi" class="doc-grid"></div>
                    </div>
                </div>

                <div class="grid-2">
                    <div class="card">
                        <h2>üåê Sosial Media</h2>
                        <div id="sosmed" class="sosmed-links"></div>
                    </div>
                    <div class="card">
                        <h2>üì∞ Berita Terkait</h2>
                        <div id="berita" class="berita-list"></div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <!-- Login Page -->
    <div id="loginPage" class="page">
        <div class="login-container">
            <div class="login-box">
                <div class="logo-section">
                    <div class="logo-placeholder">üéØ</div>
                    <h1>KIBLAT MPI 2026</h1>
                    <p>Kompetisi Ilmiah dan Budaya Lintas Atletik Terampil</p>
                    <p class="system-name">Sistem Manajemen Divisi</p>
                </div>

                <form id="loginForm">
                    <h2 id="loginTitle">Login Anggota</h2>
                    <div class="input-group">
                        <label>NIM</label>
                        <input type="text" id="nimInput" placeholder="Masukkan NIM" required>
                    </div>
                    <div class="input-group" id="passwordGroup" style="display: none;">
                        <label>Password</label>
                        <input type="password" id="passwordInput" placeholder="Masukkan Password">
                    </div>
                    <button type="submit" class="btn btn-primary btn-block">Masuk</button>
                    <button type="button" onclick="backToHome()" class="btn btn-ghost btn-block">Kembali</button>
                </form>
            </div>
        </div>
    </div>

    <!-- Dashboard Member/Admin -->
    <div id="dashboard" class="page">
        <div class="dashboard-layout">
            <!-- Sidebar -->
            <aside class="sidebar">
                <div class="sidebar-header">
                    <div class="logo">üéØ</div>
                    <h3>KIBLAT MPI 2026</h3>
                    <p id="userName">Ahmad Rijani</p>
                    <p id="userNim" class="text-sm">230101050652</p>
                </div>

                <nav class="sidebar-nav">
                    <a href="#" onclick="showSection('home')" class="nav-item active">
                        <span>üè†</span> Home
                    </a>
                    <a href="#" onclick="showSection('cp')" class="nav-item">
                        <span>üìû</span> Contact Person
                    </a>
                    <a href="#" onclick="showSection('jadwal')" class="nav-item">
                        <span>üìÖ</span> Jadwal Admin
                    </a>
                    <a href="#" onclick="showSection('absensi')" class="nav-item">
                        <span>‚úÖ</span> Absensi
                    </a>
                    <a href="#" class="nav-item disabled">
                        <span>üì•</span> Download File
                    </a>
                    
                    <div class="divisi-section">
                        <p class="nav-label">DIVISI</p>
                        <a href="#" onclick="showDivisi('Acara')" class="nav-item">Acara</a>
                        <a href="#" onclick="showDivisi('Sponsorship')" class="nav-item">Sponsorship</a>
                        <a href="#" onclick="showDivisi('Promosi')" class="nav-item">Promosi</a>
                        <a href="#" onclick="showDivisi('Kestapen')" class="nav-item">Kestapen</a>
                        <a href="#" onclick="showDivisi('PDD')" class="nav-item">PDD</a>
                        <a href="#" onclick="showDivisi('Keamanan')" class="nav-item">Keamanan</a>
                        <a href="#" onclick="showDivisi('Konsumsi')" class="nav-item">Konsumsi</a>
                        <a href="#" onclick="showDivisi('Perleng')" class="nav-item">Perleng</a>
                    </div>

                    <!-- Admin Only -->
                    <div id="adminMenu" style="display: none;">
                        <p class="nav-label">ADMIN</p>
                        <a href="#" onclick="showSection('kalender')" class="nav-item">
                            <span>üìÜ</span> Kalender Besar
                        </a>
                        <a href="#" onclick="showSection('upload-file')" class="nav-item">
                            <span>üì§</span> Upload File
                        </a>
                        <a href="#" onclick="showSection('edit-homepage')" class="nav-item">
                            <span>‚úèÔ∏è</span> Edit Homepage
                        </a>
                    </div>

                    <!-- Developer Only -->
                    <div id="devMenu" style="display: none;">
                        <p class="nav-label">DEVELOPER</p>
                        <a href="#" onclick="showSection('device-logs')" class="nav-item">
                            <span>üñ•Ô∏è</span> Device Logs
                        </a>
                    </div>
                </nav>

                <button onclick="logout()" class="btn btn-danger btn-block">Logout</button>
            </aside>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Home Section -->
                <div id="homeSection" class="content-section active">
                    <h1>Selamat Datang di KIBLAT MPI 2026</h1>
                    <div class="info-cards">
                        <div class="card">
                            <h3>üìã Ringkasan Program Kerja</h3>
                            <p>KIBLAT MPI 2026 adalah kegiatan yang bertujuan...</p>
                        </div>
                        <div class="card">
                            <h3>üë• Status Anggota</h3>
                            <p>Total Anggota: <strong id="totalAnggota">66</strong></p>
                            <p>Divisi Aktif: <strong>8</strong></p>
                        </div>
                    </div>
                </div>

                <!-- CP Section -->
                <div id="cpSection" class="content-section">
                    <h1>üìû Contact Person</h1>
                    <div class="cp-list">
                        <div class="cp-card" onclick="callContact('089514459128', '230101050678')">
                            <h3>Penanggung Jawab</h3>
                            <p class="cp-number">089514459128</p>
                            <button class="btn btn-primary">üìû Hubungi</button>
                        </div>
                        <div class="cp-card" onclick="callContact('082150658810', '230101050652')">
                            <h3>Ketua Pelaksana</h3>
                            <p class="cp-number">082150658810</p>
                            <button class="btn btn-primary">üìû Hubungi</button>
                        </div>
                        <div class="cp-card" onclick="callContact('0895400459070', '230101050763')">
                            <h3>Sekretaris Pelaksana</h3>
                            <p class="cp-number">0895400459070</p>
                            <button class="btn btn-primary">üìû Hubungi</button>
                        </div>
                        <div class="cp-card" onclick="callContact('081349702553', '230101050276')">
                            <h3>Bendahara Pelaksana</h3>
                            <p class="cp-number">081349702553</p>
                            <button class="btn btn-primary">üìû Hubungi</button>
                        </div>
                    </div>
                </div>

                <!-- Jadwal Admin Section -->
                <div id="jadwalSection" class="content-section">
                    <h1>üìÖ Jadwal dari Admin</h1>
                    <div id="jadwalList" class="jadwal-list"></div>
                </div>

                <!-- Absensi Section -->
                <div id="absensiSection" class="content-section">
                    <h1>‚úÖ Data Absensi</h1>
                    <button onclick="downloadAbsensi()" class="btn btn-secondary">üì• Download PDF</button>
                    <div id="absensiTable"></div>
                </div>

                <!-- Divisi Section -->
                <div id="divisiSection" class="content-section">
                    <h1 id="divisiTitle">Divisi Acara</h1>
                    
                    <div class="tabs">
                        <button onclick="showTab('input')" class="tab-btn active">Input/Edit</button>
                        <button onclick="showTab('hasil')" class="tab-btn">Hasil</button>
                    </div>

                    <!-- Input Tab -->
                    <div id="inputTab" class="tab-content active">
                        <form id="todoForm" class="todo-form">
                            <div class="form-grid">
                                <div class="input-group">
                                    <label>Nama Kegiatan</label>
                                    <input type="text" id="todoNama" required>
                                </div>
                                <div class="input-group">
                                    <label>Prioritas</label>
                                    <select id="todoPrioritas" required>
                                        <option value="Penting dan mendesak">Penting dan mendesak</option>
                                        <option value="Sedang">Sedang</option>
                                        <option value="Tidak">Tidak</option>
                                    </select>
                                </div>
                                <div class="input-group">
                                    <label>Tanggal</label>
                                    <input type="date" id="todoTanggal" required>
                                </div>
                                <div class="input-group">
                                    <label>Waktu (WITA)</label>
                                    <input type="time" id="todoWaktu" required>
                                </div>
                            </div>
                            <div class="input-group">
                                <label>Deskripsi</label>
                                <textarea id="todoDeskripsi" rows="3"></textarea>
                            </div>
                            <button type="submit" class="btn btn-primary">Tambah To-Do</button>
                        </form>
                    </div>

                    <!-- Hasil Tab -->
                    <div id="hasilTab" class="tab-content">
                        <div class="priority-sections">
                            <div class="priority-group">
                                <h3>üî¥ Penting dan Mendesak</h3>
                                <div id="todoPenting" class="todo-list"></div>
                            </div>
                            <div class="priority-group">
                                <h3>üü° Sedang</h3>
                                <div id="todoSedang" class="todo-list"></div>
                            </div>
                            <div class="priority-group">
                                <h3>‚ö™ Tidak</h3>
                                <div id="todoTidak" class="todo-list"></div>
                            </div>
                            <div class="priority-group">
                                <h3>‚úÖ Selesai</h3>
                                <div id="todoSelesai" class="todo-list"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Admin: Kalender Besar -->
                <div id="kalenderSection" class="content-section">
                    <h1>üìÜ Kalender Besar - Semua To-Do</h1>
                    <div id="kalenderBesar"></div>
                </div>

                <!-- Admin: Upload File -->
                <div id="uploadFileSection" class="content-section">
                    <h1>üì§ Upload File Penting</h1>
                    <form id="uploadForm">
                        <div class="input-group">
                            <label>Nama File</label>
                            <input type="text" id="fileName" required>
                        </div>
                        <div class="input-group">
                            <label>File</label>
                            <input type="file" id="fileInput" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Upload</button>
                    </form>
                    <div id="fileList"></div>
                </div>

                <!-- Admin: Edit Homepage -->
                <div id="editHomepageSection" class="content-section">
                    <h1>‚úèÔ∏è Edit Homepage</h1>
                    <form id="homepageForm">
                        <div class="input-group">
                            <label>Latar Belakang</label>
                            <textarea id="editLatarBelakang" rows="5"></textarea>
                        </div>
                        <div class="input-group">
                            <label>Link Berita (JSON)</label>
                            <textarea id="editBerita" rows="3"></textarea>
                        </div>
                        <button type="submit" class="btn btn-primary">Simpan</button>
                    </form>
                </div>

                <!-- Developer: Device Logs -->
                <div id="deviceLogsSection" class="content-section">
                    <h1>üñ•Ô∏è Device & IP Logs</h1>
                    <div id="logsTable"></div>
                </div>
            </main>
        </div>
    </div>

    <!-- Notification Modal -->
    <div id="notificationModal" class="modal">
        <div class="modal-content urgent">
            <h2>üö® PANGGILAN DARURAT</h2>
            <p id="notifMessage"></p>
            <button onclick="answerNotification()" class="btn btn-danger btn-block">JAWAB</button>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="firebase-config.js"></script>
    <script type="module" src="script.js"></script>
</body>
</html>
